<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_script">
    <sys_ui_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <description/>
        <global>false</global>
        <ignore_in_now_experience>false</ignore_in_now_experience>
        <name>x_376096_cxp.virtual_attachments</name>
        <script><![CDATA[var x_376096_cxp=x_376096_cxp||{};x_376096_cxp.virtual_attachments=(function(){"use strict";if(x_376096_cxp.virtual_attachments)return x_376096_cxp.virtual_attachments;return x_376096_cxp.get_window(function(a){x_376096_cxp.config.on_ready(function(e){var p,c,t;function d(e){var t,a,n=e.querySelector("#attachFileCell"),l=p.document.getElementById("sys_attachment"),c=p.document.createElement("label");c.htmlFor="x_376096_cxp_virtual_url",c.classList.add("col-md-1","control-label"),c.innerText="URL";var d=p.document.createElement("input");d.id=c.htmlFor,d.type="url",d.placeholder="File URL",d.style.width="100%";var r=p.document.createElement("div");r.classList.add("col-md-8","form-field");var i=p.document.createElement("div");i.classList.add("row","form-group"),r.appendChild(d),i.appendChild(c),i.appendChild(r);e=p.document.createElement("label");e.htmlFor="x_376096_cxp_virtual_name",e.classList.add("col-md-1","control-label"),e.innerText="Name";var o=p.document.createElement("input");o.id=e.htmlFor,o.placeholder="File Name",o.style.width="100%",d.onchange=function(){var e;d.value&&((e=_(d.value)).ext?o.placeholder="."+e.ext:o.placeholder="File Name",e.name?o.value=e.name:o.value="")};c=p.document.createElement("div");c.classList.add("col-md-8","form-field");r=p.document.createElement("div");r.classList.add("row","form-group");var s=p.document.createElement("input");s.id="x_376096_cxp_virtual_upload",s.style["margin-left"]="8px",s.type="button",s.value="Add",s.onclick=function(){if(d.value&&o.value){var e=_(o.value);if(e.type){try{new URL(d.value)}catch(e){return}var t,a=x_376096_cxp.config.mime_config[e.ext];a&&(t=new File([new Uint8Array(a.s),d.value],e.name,{type:e.type}),(a=new DataTransfer).items.add(t),(e=p.document.getElementById("attachFile")).file=t,e.files=a.files,s.disabled=!0,e.onchange())}}},c.appendChild(o),r.appendChild(e),r.appendChild(c),r.appendChild(s);var u=p.document.createElement("input");u.type="checkbox",u.style["vertical-align"]="top",u.id="x_376096_cxp_virtual_toggle",u.onchange=function(){var e=new URL(l.action);e.searchParams.set("x_376096_cxp_virtual_attachment",this.checked.toString()),l.action=e.toString();e=p.document.getElementById("loadFileXml");e&&(e.disabled=this.checked),this.checked?(t.style.display="",a.style.display="",d.focus()):(t.style.display="none",a.style.display="none")};c=p.document.createElement("div");c.style["padding-right"]="15px",c.style.float="right",c.appendChild(u),c.appendChild(p.document.createTextNode(" Virtual")),n.appendChild(c);c=p.document.createElement("td");c.colSpan="3",c.style["white-space"]="nowrap",c.style["padding-top"]="8px",c.appendChild(i),(t=p.document.createElement("tr")).style.display="none",t.appendChild(c);c=p.document.createElement("td");c.colSpan="3",c.appendChild(r),(a=p.document.createElement("tr")).style.display="none",a.appendChild(c);n=n.parentElement.parentElement;n.appendChild(t),n.appendChild(a);var m=p.refreshAttachments;p.refreshAttachments=function(){var n=arguments;x_376096_cxp.config.update(!0,function(e){var t=e.virtual_attachments.attachments;l=p.document.getElementById("sys_attachment"),d=p.document.getElementById("x_376096_cxp_virtual_url"),o=p.document.getElementById("x_376096_cxp_virtual_name");var a=p.document.getElementById("x_376096_cxp_virtual_upload");a.onclick=s.onclick,a.disabled=!1,s=a;e=p.document.getElementById("x_376096_cxp_virtual_toggle");e.onchange=u.onchange;a=u.checked;(u=e).checked=a;a=n[0];u.checked&&a&&(t[a]={virtual:!0,url:d.value},d.value="",o.value=""),m.apply(this,n),h()})}}function h(){var e,t=x_376096_cxp.config.virtual_attachments.attachments;for(e in t){var a=t[e].url;Array.prototype.slice.call(p.document.querySelectorAll('a[href*="sys_attachment.do?sys_id='+e+'"]')).forEach(function(e){e.href=a,e.target="_blank"}),Array.prototype.slice.call(p.document.querySelectorAll("a.attachment.view_"+e)).forEach(function(e){e.onclick=function(){p.open(a,"_blank").focus()}})}}e.virtual_attachments.enabled&&(t=a.document.getElementById("sys_row"),(p=a).NOW.targetTable,a.NOW.sysId,t&&t.value,h(),-1<p.navigator.userAgent.indexOf("MSIE")||-1<p.navigator.userAgent.indexOf("Trident")||(c="cxp-virtual-attachments",e=new MutationObserver(function(e){for(var t=0;t<e.length;t++){var a=e[t];if(a.addedNodes)for(var n=0;n<a.addedNodes.length;n++){var l=a.addedNodes[n];"RENDERED_BODY"==l.tagName&&l.closest("#attachment")&&!l.classList.contains(c)&&(l.classList.add(c),d(l),h())}}}),(t=p.document.querySelector("#attachment rendered_body"))&&!t.classList.contains(c)&&(t.classList.add(c),d(p)),e.observe(p.document,{childList:!0,subtree:!0})))})}),{type:"virtual_attachments"};function _(e){var t,a,n;if(e)for(var l=(l=e.match(/[^/=\\&?]+\.\w{3,4}(?=([?&].*$|$))/g)||[]).reverse(),c=0;c<l.length;c++){var d=l[c],r=d.lastIndexOf("."),i=d.substr(r+1),r=x_376096_cxp.config.mime_config[i];if(r){a=i,t=r.t,n=d;break}}return{type:t,ext:a,name:n}}})();]]></script>
        <script_name>virtual_attachments</script_name>
        <sys_class_name>sys_ui_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-07-20 16:30:00</sys_created_on>
        <sys_id>fc84a97997bc51102f77b4b3f153af57</sys_id>
        <sys_mod_count>66</sys_mod_count>
        <sys_name>x_376096_cxp.virtual_attachments</sys_name>
        <sys_package display_value="Classic Experience" source="x_376096_cxp">3c8bfe3897ac11102f77b4b3f153af0e</sys_package>
        <sys_policy/>
        <sys_scope display_value="Classic Experience">3c8bfe3897ac11102f77b4b3f153af0e</sys_scope>
        <sys_update_name>sys_ui_script_fc84a97997bc51102f77b4b3f153af57</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-07-27 14:37:15</sys_updated_on>
        <ui_type>0</ui_type>
        <use_scoped_format>true</use_scoped_format>
    </sys_ui_script>
</record_update>
